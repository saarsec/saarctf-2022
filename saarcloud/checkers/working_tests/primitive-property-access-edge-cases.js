// Copyright 2013 the V8 project authors. All rights reserved.
// Copyright (C) 2005, 2006, 2007, 2008, 2009 Apple Inc. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions
// are met:
// 1.  Redistributions of source code must retain the above copyright
//     notice, this list of conditions and the following disclaimer.
// 2.  Redistributions in binary form must reproduce the above copyright
//     notice, this list of conditions and the following disclaimer in the
//     documentation and/or other materials provided with the distribution.
//
// THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS'' AND ANY
// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
// DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS BE LIABLE FOR ANY
// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
// ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



var RESULT=[];function addExceptionExpr(expr){try{RESULT.push(JSON.stringify(eval(expr)))}catch(e){RESULT.push(e.toString())}}function addReportExpr(expr){RESULT.push(JSON.parse(JSON.stringify(eval(expr))))}var didNotCrash=true;(function(){delete String.prototype.constructor;for(var i=0;i<3;++i)"".replace})();(function(){String.prototype.__proto__={x:1,y:1};delete String.prototype.__proto__.x;for(var i=0;i<3;++i)"".y})();(function(){function f(x){x.y}String.prototype.x=1;String.prototype.y=1;delete String.prototype.x;Number.prototype.x=1;Number.prototype.y=1;delete Number.prototype.x;for(var i=0;i<3;++i)f("");for(var i=0;i<3;++i)f(.5)})();var checkOkay;function checkGet(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,"foo",{get:function(){checkOkay="object"===typeof this},configurable:true});x.foo;delete constructor.prototype.foo;return checkOkay}function checkSet(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,"foo",{set:function(){checkOkay="object"===typeof this},configurable:true});x.foo=null;delete constructor.prototype.foo;return checkOkay}function checkGetStrict(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,"foo",{get:function(){"use strict";checkOkay="object"!==typeof this},configurable:true});x.foo;delete constructor.prototype.foo;return checkOkay}function checkSetStrict(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,"foo",{set:function(){"use strict";checkOkay="object"!==typeof this},configurable:true});x.foo=null;delete constructor.prototype.foo;return checkOkay}addReportExpr("checkGet(1, Number)");addReportExpr("checkGet('hello', String)");addReportExpr("checkGet(true, Boolean)");addReportExpr("checkSet(1, Number)");addReportExpr("checkSet('hello', String)");addReportExpr("checkSet(true, Boolean)");addReportExpr("checkGetStrict(1, Number)");addReportExpr("checkGetStrict('hello', String)");addReportExpr("checkGetStrict(true, Boolean)");addReportExpr("checkSetStrict(1, Number)");addReportExpr("checkSetStrict('hello', String)");addReportExpr("checkSetStrict(true, Boolean)");function checkRead(x,constructor){return void 0===x.foo}function checkWrite(x,constructor){x.foo=null;return void 0===x.foo}function checkReadStrict(x,constructor){"use strict";return void 0===x.foo}function checkWriteStrict(x,constructor){"use strict";x.foo=null;return void 0===x.foo}addReportExpr("checkRead(1, Number)");addReportExpr("checkRead('hello', String)");addReportExpr("checkRead(true, Boolean)");addReportExpr("checkWrite(1, Number)");addReportExpr("checkWrite('hello', String)");addReportExpr("checkWrite(true, Boolean)");addReportExpr("checkReadStrict(1, Number)");addReportExpr("checkReadStrict('hello', String)");addReportExpr("checkReadStrict(true, Boolean)");addExceptionExpr("checkWriteStrict(1, Number)");addExceptionExpr("checkWriteStrict('hello', String)");addExceptionExpr("checkWriteStrict(true, Boolean)");function checkNumericGet(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,42,{get:function(){checkOkay="object"===typeof this},configurable:true});x[42];delete constructor.prototype[42];return checkOkay}function checkNumericSet(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,42,{set:function(){checkOkay="object"===typeof this},configurable:true});x[42]=null;delete constructor.prototype[42];return checkOkay}function checkNumericGetStrict(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,42,{get:function(){"use strict";checkOkay="object"!==typeof this},configurable:true});x[42];delete constructor.prototype[42];return checkOkay}function checkNumericSetStrict(x,constructor){checkOkay=false;Object.defineProperty(constructor.prototype,42,{set:function(){"use strict";checkOkay="object"!==typeof this},configurable:true});x[42]=null;delete constructor.prototype[42];return checkOkay}addReportExpr("checkNumericGet(1, Number)");addReportExpr("checkNumericGet('hello', String)");addReportExpr("checkNumericGet(true, Boolean)");addReportExpr("checkNumericSet(1, Number)");addReportExpr("checkNumericSet('hello', String)");addReportExpr("checkNumericSet(true, Boolean)");addReportExpr("checkNumericGetStrict(1, Number)");addReportExpr("checkNumericGetStrict('hello', String)");addReportExpr("checkNumericGetStrict(true, Boolean)");addReportExpr("checkNumericSetStrict(1, Number)");addReportExpr("checkNumericSetStrict('hello', String)");addReportExpr("checkNumericSetStrict(true, Boolean)");function checkNumericRead(x,constructor){return void 0===x[42]}function checkNumericWrite(x,constructor){x[42]=null;return void 0===x[42]}function checkNumericReadStrict(x,constructor){"use strict";return void 0===x[42]}function checkNumericWriteStrict(x,constructor){"use strict";x[42]=null;return void 0===x[42]}addReportExpr("checkNumericRead(1, Number)");addReportExpr("checkNumericRead('hello', String)");addReportExpr("checkNumericRead(true, Boolean)");addReportExpr("checkNumericWrite(1, Number)");addReportExpr("checkNumericWrite('hello', String)");addReportExpr("checkNumericWrite(true, Boolean)");addReportExpr("checkNumericReadStrict(1, Number)");addReportExpr("checkNumericReadStrict('hello', String)");addReportExpr("checkNumericReadStrict(true, Boolean)");addExceptionExpr("checkNumericWriteStrict(1, Number)");addExceptionExpr("checkNumericWriteStrict('hello', String)");addExceptionExpr("checkNumericWriteStrict(true, Boolean)");addReportExpr("didNotCrash");return RESULT